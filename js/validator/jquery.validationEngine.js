!function(e){"use strict";var t={init:function(r){var a=this;return a.data("jqv")&&null!=a.data("jqv")||(r=t._saveOptions(a,r),e(".formError").live("click",function(){e(this).fadeOut(150,function(){e(this).parent(".formErrorOuter").remove(),e(this).remove()})})),this},attach:function(r){if(!e(this).is("form"))return alert("Sorry, jqv.attach() only applies to a form"),this;var a,i=this;return a=r?t._saveOptions(i,r):i.data("jqv"),a.validateAttribute=i.find("[data-validation-engine*=validate]").length?"data-validation-engine":"class",a.binded&&(i.find("["+a.validateAttribute+"*=validate]").not("[type=checkbox]").not("[type=radio]").not(".datepicker").bind(a.validationEventTrigger,t._onFieldEvent),i.find("["+a.validateAttribute+"*=validate][type=checkbox],["+a.validateAttribute+"*=validate][type=radio]").bind("click",t._onFieldEvent),i.find("["+a.validateAttribute+"*=validate][class*=datepicker]").bind(a.validationEventTrigger,{delay:300},t._onFieldEvent)),a.autoPositionUpdate&&e(window).bind("resize",{noAnimation:!0,formElem:i},t.updatePromptsPosition),i.bind("submit",t._onSubmitEvent),this},detach:function(){if(!e(this).is("form"))return alert("Sorry, jqv.detach() only applies to a form"),this;var r=this,a=r.data("jqv");return r.find("["+a.validateAttribute+"*=validate]").not("[type=checkbox]").unbind(a.validationEventTrigger,t._onFieldEvent),r.find("["+a.validateAttribute+"*=validate][type=checkbox],[class*=validate][type=radio]").unbind("click",t._onFieldEvent),r.unbind("submit",t.onAjaxFormComplete),r.find("["+a.validateAttribute+"*=validate]").not("[type=checkbox]").die(a.validationEventTrigger,t._onFieldEvent),r.find("["+a.validateAttribute+"*=validate][type=checkbox]").die("click",t._onFieldEvent),r.die("submit",t.onAjaxFormComplete),r.removeData("jqv"),a.autoPositionUpdate&&e(window).unbind("resize",t.updatePromptsPosition),this},validate:function(){if(e(this).is("form"))return t._validateFields(this);var r=e(this).closest("form"),a=r.data("jqv"),i=t._validateField(e(this),a);return a.onSuccess&&0==a.InvalidFields.length?a.onSuccess():a.onFailure&&a.InvalidFields.length>0&&a.onFailure(),i},updatePromptsPosition:function(r){if(r&&this==window)var a=r.data.formElem,i=r.data.noAnimation;else var a=e(this.closest("form"));var o=a.data("jqv");return a.find("["+o.validateAttribute+"*=validate]").not(":disabled").each(function(){var r=e(this),a=t._getPrompt(r),n=e(a).find(".formErrorContent").html();a&&t._updatePrompt(r,e(a),n,void 0,!1,o,i)}),this},showPrompt:function(e,r,a,i){var o=this.closest("form"),n=o.data("jqv");return n||(n=t._saveOptions(this,n)),a&&(n.promptPosition=a),n.showArrow=1==i,t._showPrompt(this,e,r,!1,n),this},hide:function(){var r=e(this).closest("form");if(0==r.length)return this;var a,i=r.data("jqv");return a=e(this).is("form")?"parentForm"+t._getClassName(e(this).attr("id")):t._getClassName(e(this).attr("id"))+"formError",e("."+a).fadeTo(i.fadeDuration,.3,function(){e(this).parent(".formErrorOuter").remove(),e(this).remove()}),this},hideAll:function(){var t=this,r=t.data("jqv"),a=r?r.fadeDuration:.3;return e(".formError").fadeTo(a,.3,function(){e(this).parent(".formErrorOuter").remove(),e(this).remove()}),this},_onFieldEvent:function(r){var a=e(this),i=a.closest("form"),o=i.data("jqv");o.eventTrigger="field",window.setTimeout(function(){t._validateField(a,o),0==o.InvalidFields.length&&o.onSuccess?o.onSuccess():o.InvalidFields.length>0&&o.onFailure&&o.onFailure()},r.data?r.data.delay:0)},_onSubmitEvent:function(){var r=e(this),a=r.data("jqv");a.eventTrigger="submit";var i=t._validateFields(r);return i&&a.ajaxFormValidation?(t._validateFormWithAjax(r,a),!1):a.onValidationComplete?!!a.onValidationComplete(r,i):i},_checkAjaxStatus:function(t){var r=!0;return e.each(t.ajaxValidCache,function(e,t){return t?void 0:(r=!1,!1)}),r},_checkAjaxFieldStatus:function(e,t){return 1==t.ajaxValidCache[e]},_validateFields:function(r){var a=r.data("jqv"),i=!1;r.trigger("jqv.form.validating");var o=null;if(r.find("["+a.validateAttribute+"*=validate]").not(":disabled").each(function(){var n=e(this),s=[];if(e.inArray(n.attr("name"),s)<0){if(i|=t._validateField(n,a),i&&null==o&&(o=n.is(":hidden")&&a.prettySelect?n=r.find("#"+a.usePrefix+n.attr("id")+a.useSuffix):n),a.doNotShowAllErrosOnSubmit)return!1;s.push(n.attr("name"))}}),r.trigger("jqv.form.result",[i]),i){if(a.scroll){var n=o.offset().top,s=o.offset().left,l=a.promptPosition;if("string"==typeof l&&-1!=l.indexOf(":")&&(l=l.substring(0,l.indexOf(":"))),"bottomRight"!=l&&"bottomLeft"!=l){var d=t._getPrompt(o);n=d.offset().top}if(a.isOverflown){var u=e(a.overflownDIV);if(!u.length)return!1;var f=u.scrollTop(),c=-parseInt(u.offset().top);n+=f+c-5;var v=e(a.overflownDIV+":not(:animated)");v.animate({scrollTop:n},1100,function(){a.focusFirstField&&o.focus()})}else e("html:not(:animated),body:not(:animated)").animate({scrollTop:n,scrollLeft:s},1100,function(){a.focusFirstField&&o.focus()})}else a.focusFirstField&&o.focus();return!1}return!0},_validateFormWithAjax:function(r,a){var i=r.serialize(),o=a.ajaxmethod?a.ajaxmethod:"GET",n=a.ajaxFormValidationURL?a.ajaxFormValidationURL:r.attr("action"),s=a.dataType?a.dataType:"json";e.ajax({type:o,url:n,cache:!1,dataType:s,data:i,form:r,methods:t,options:a,beforeSend:function(){return a.onBeforeAjaxFormValidation(r,a)},error:function(e,r){t._ajaxError(e,r)},success:function(i){if(i!==!0){for(var o=!1,n=0;n<i.length;n++){var s=i[n],l=s[0],d=e(e("#"+l)[0]);if(1==d.length){var u=s[2];if(1==s[1])if(""!=u&&u){if(a.allrules[u]){var f=a.allrules[u].alertTextOk;f&&(u=f)}t._showPrompt(d,u,"pass",!1,a,!0)}else t._closePrompt(d);else{if(o|=!0,a.allrules[u]){var f=a.allrules[u].alertText;f&&(u=f)}t._showPrompt(d,u,"",!1,a,!0)}}}a.onAjaxFormComplete(!o,r,i,a)}else a.onAjaxFormComplete(!0,r,"",a)}})},_validateField:function(r,a,i){if(r.attr("id")||(r.attr("id","form-validation-field-"+e.validationEngine.fieldIdCounter),++e.validationEngine.fieldIdCounter),r.is(":hidden")&&!a.prettySelect||r.parent().is(":hidden"))return!1;var o=r.attr(a.validateAttribute),n=/validate\[(.*)\]/.exec(o);if(!n)return!1;var s=n[1],l=s.split(/\[|,|\]/),d=!1,u=r.attr("name"),f="",c="",v=!1;a.isError=!1,a.showArrow=!0;for(var p=e(r.closest("form")),m=0;m<l.length;m++){l[m]=l[m].replace(" ","");var g=void 0;switch(l[m]){case"required":v=!0,g=t._getErrorMessage(p,r,l[m],l,m,a,t._required);break;case"custom":g=t._getErrorMessage(p,r,l[m],l,m,a,t._custom);break;case"groupRequired":var h="["+a.validateAttribute+"*="+l[m+1]+"]",x=p.find(h).eq(0);if(x[0]!=r[0]){t._validateField(x,a,i),a.showArrow=!0;continue}g=t._getErrorMessage(p,r,l[m],l,m,a,t._groupRequired),g&&(v=!0),a.showArrow=!1;break;case"ajax":g=t._ajax(r,l,m,a),g&&(c="load");break;case"minSize":g=t._getErrorMessage(p,r,l[m],l,m,a,t._minSize);break;case"maxSize":g=t._getErrorMessage(p,r,l[m],l,m,a,t._maxSize);break;case"min":g=t._getErrorMessage(p,r,l[m],l,m,a,t._min);break;case"max":g=t._getErrorMessage(p,r,l[m],l,m,a,t._max);break;case"past":g=t._getErrorMessage(p,r,l[m],l,m,a,t._past);break;case"future":g=t._getErrorMessage(p,r,l[m],l,m,a,t._future);break;case"dateRange":var h="["+a.validateAttribute+"*="+l[m+1]+"]";a.firstOfGroup=p.find(h).eq(0),a.secondOfGroup=p.find(h).eq(1),(a.firstOfGroup[0].value||a.secondOfGroup[0].value)&&(g=t._getErrorMessage(p,r,l[m],l,m,a,t._dateRange)),g&&(v=!0),a.showArrow=!1;break;case"dateTimeRange":var h="["+a.validateAttribute+"*="+l[m+1]+"]";a.firstOfGroup=p.find(h).eq(0),a.secondOfGroup=p.find(h).eq(1),(a.firstOfGroup[0].value||a.secondOfGroup[0].value)&&(g=t._getErrorMessage(p,r,l[m],l,m,a,t._dateTimeRange)),g&&(v=!0),a.showArrow=!1;break;case"maxCheckbox":r=e(p.find("input[name='"+u+"']")),g=t._getErrorMessage(p,r,l[m],l,m,a,t._maxCheckbox);break;case"minCheckbox":r=e(p.find("input[name='"+u+"']")),g=t._getErrorMessage(p,r,l[m],l,m,a,t._minCheckbox);break;case"equals":g=t._getErrorMessage(p,r,l[m],l,m,a,t._equals);break;case"funcCall":g=t._getErrorMessage(p,r,l[m],l,m,a,t._funcCall);break;case"creditCard":g=t._getErrorMessage(p,r,l[m],l,m,a,t._creditCard);break;case"condRequired":g=t._getErrorMessage(p,r,l[m],l,m,a,t._condRequired),void 0!==g&&(v=!0)}if(void 0!==g&&(f+=g+"<br/>",a.isError=!0),a.showOneMessage===!0&&a.isError===!0)break}!v&&r.val().length<1&&(a.isError=!1);var _=r.prop("type");("radio"==_||"checkbox"==_)&&p.find("input[name='"+u+"']").size()>1&&(r=e(p.find("input[name='"+u+"'][type!=hidden]:first")),a.showArrow=!1),r.is(":hidden")&&a.prettySelect&&(r=p.find("#"+a.usePrefix+r.attr("id")+a.useSuffix)),a.isError?t._showPrompt(r,f,c,!1,a):d||t._closePrompt(r),d||r.trigger("jqv.field.result",[r,a.isError,f]);var b=e.inArray(r[0],a.InvalidFields);return-1==b?a.isError&&a.InvalidFields.push(r[0]):a.isError||a.InvalidFields.splice(b,1),a.isError},_getErrorMessage:function(r,a,i,o,n,s,l){var d=i;if("custom"==i){var u=jQuery.inArray(i,o)+1,f=o[u];i="custom["+f+"]"}var c,v=a.attr("data-validation-engine")?a.attr("data-validation-engine"):a.attr("class"),p=v.split(" ");if(c="future"==i||"past"==i||"maxCheckbox"==i||"minCheckbox"==i?l(r,a,o,n,s):l(a,o,n,s),void 0!=c){var m=t._getCustomErrorMessage(e(a),p,d,s);if(m)return m}return c},_getCustomErrorMessage:function(e,r,a,i){var o=!1,n=t._validityProp[a];if(void 0!=n&&(o=e.attr("data-errormessage-"+n),void 0!=o))return o;if(o=e.attr("data-errormessage"),void 0!=o)return o;var s="#"+e.attr("id");if("undefined"!=typeof i.custom_error_messages[s]&&"undefined"!=typeof i.custom_error_messages[s][a])o=i.custom_error_messages[s][a].message;else if(r.length>0)for(var l=0;l<r.length&&r.length>0;l++){var d="."+r[l];if("undefined"!=typeof i.custom_error_messages[d]&&"undefined"!=typeof i.custom_error_messages[d][a]){o=i.custom_error_messages[d][a].message;break}}return o||"undefined"==typeof i.custom_error_messages[a]||"undefined"==typeof i.custom_error_messages[a].message||(o=i.custom_error_messages[a].message),o},_validityProp:{required:"value-missing",custom:"custom-error",groupRequired:"value-missing",ajax:"custom-error",minSize:"range-underflow",maxSize:"range-overflow",min:"range-underflow",max:"range-overflow",past:"type-mismatch",future:"type-mismatch",dateRange:"type-mismatch",dateTimeRange:"type-mismatch",maxCheckbox:"range-overflow",minCheckbox:"range-underflow",equals:"pattern-mismatch",funcCall:"custom-error",creditCard:"pattern-mismatch",condRequired:"value-missing"},_required:function(t,r,a,i){switch(t.prop("type")){case"text":case"password":case"textarea":case"file":case"select-one":case"select-multiple":default:if(!e.trim(t.val())||t.val()==t.attr("data-validation-placeholder")||t.val()==t.attr("placeholder"))return i.allrules[r[a]].alertText;break;case"radio":case"checkbox":var o=t.closest("form"),n=t.attr("name");if(0==o.find("input[name='"+n+"']:checked").size())return 1==o.find("input[name='"+n+"']").size()?i.allrules[r[a]].alertTextCheckboxe:i.allrules[r[a]].alertTextCheckboxMultiple}},_groupRequired:function(r,a,i,o){var n="["+o.validateAttribute+"*="+a[i+1]+"]",s=!1;return r.closest("form").find(n).each(function(){return t._required(e(this),a,i,o)?void 0:(s=!0,!1)}),s?void 0:o.allrules[a[i]].alertText},_custom:function(e,t,r,a){var i,o=t[r+1],n=a.allrules[o];if(!n)return void alert("jqv:custom rule not found - "+o);if(n.regex){var s=n.regex;if(!s)return void alert("jqv:custom regex not found - "+o);var l=new RegExp(s);if(!l.test(e.val()))return a.allrules[o].alertText}else{if(!n.func)return void alert("jqv:custom type not allowed "+o);if(i=n.func,"function"!=typeof i)return void alert("jqv:custom parameter 'function' is no function - "+o);if(!i(e,t,r,a))return a.allrules[o].alertText}},_funcCall:function(e,t,r,a){var i,o=t[r+1];if(o.indexOf(".")>-1){for(var n=o.split("."),s=window;n.length;)s=s[n.shift()];i=s}else i=window[o]||a.customFunctions[o];return"function"==typeof i?i(e,t,r,a):void 0},_equals:function(t,r,a,i){var o=r[a+1];return t.val()!=e("#"+o).val()?i.allrules.equals.alertText:void 0},_maxSize:function(e,t,r,a){var i=t[r+1],o=e.val().length;if(o>i){var n=a.allrules.maxSize;return n.alertText+i+n.alertText2}},_minSize:function(e,t,r,a){var i=t[r+1],o=e.val().length;if(i>o){var n=a.allrules.minSize;return n.alertText+i+n.alertText2}},_min:function(e,t,r,a){var i=parseFloat(t[r+1]),o=parseFloat(e.val());if(i>o){var n=a.allrules.min;return n.alertText2?n.alertText+i+n.alertText2:n.alertText+i}},_max:function(e,t,r,a){var i=parseFloat(t[r+1]),o=parseFloat(e.val());if(o>i){var n=a.allrules.max;return n.alertText2?n.alertText+i+n.alertText2:n.alertText+i}},_past:function(r,a,i,o,n){var s,l=i[o+1],d=e(r.find("input[name='"+l.replace(/^#+/,"")+"']"));if("now"==l.toLowerCase())s=new Date;else if(void 0!=d.val()){if(d.is(":disabled"))return;s=t._parseDate(d.val())}else s=t._parseDate(l);var u=t._parseDate(a.val());if(u>s){var f=n.allrules.past;return f.alertText2?f.alertText+t._dateToString(s)+f.alertText2:f.alertText+t._dateToString(s)}},_future:function(r,a,i,o,n){var s,l=i[o+1],d=e(r.find("input[name='"+l.replace(/^#+/,"")+"']"));if("now"==l.toLowerCase())s=new Date;else if(void 0!=d.val()){if(d.is(":disabled"))return;s=t._parseDate(d.val())}else s=t._parseDate(l);var u=t._parseDate(a.val());if(s>u){var f=n.allrules.future;return f.alertText2?f.alertText+t._dateToString(s)+f.alertText2:f.alertText+t._dateToString(s)}},_isDate:function(e){var t=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/);return t.test(e)},_isDateTime:function(e){var t=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/);return t.test(e)},_dateCompare:function(e,t){return new Date(e.toString())<new Date(t.toString())},_dateRange:function(e,r,a,i){return!i.firstOfGroup[0].value&&i.secondOfGroup[0].value||i.firstOfGroup[0].value&&!i.secondOfGroup[0].value?i.allrules[r[a]].alertText+i.allrules[r[a]].alertText2:t._isDate(i.firstOfGroup[0].value)&&t._isDate(i.secondOfGroup[0].value)&&t._dateCompare(i.firstOfGroup[0].value,i.secondOfGroup[0].value)?void 0:i.allrules[r[a]].alertText+i.allrules[r[a]].alertText2},_dateTimeRange:function(e,r,a,i){return!i.firstOfGroup[0].value&&i.secondOfGroup[0].value||i.firstOfGroup[0].value&&!i.secondOfGroup[0].value?i.allrules[r[a]].alertText+i.allrules[r[a]].alertText2:t._isDateTime(i.firstOfGroup[0].value)&&t._isDateTime(i.secondOfGroup[0].value)&&t._dateCompare(i.firstOfGroup[0].value,i.secondOfGroup[0].value)?void 0:i.allrules[r[a]].alertText+i.allrules[r[a]].alertText2},_maxCheckbox:function(e,t,r,a,i){var o=r[a+1],n=t.attr("name"),s=e.find("input[name='"+n+"']:checked").size();return s>o?(i.showArrow=!1,i.allrules.maxCheckbox.alertText2?i.allrules.maxCheckbox.alertText+" "+o+" "+i.allrules.maxCheckbox.alertText2:i.allrules.maxCheckbox.alertText):void 0},_minCheckbox:function(e,t,r,a,i){var o=r[a+1],n=t.attr("name"),s=e.find("input[name='"+n+"']:checked").size();return o>s?(i.showArrow=!1,i.allrules.minCheckbox.alertText+" "+o+" "+i.allrules.minCheckbox.alertText2):void 0},_creditCard:function(e,t,r,a){var i=!1,o=e.val().replace(/ +/g,"").replace(/-+/g,""),n=o.length;if(n>=14&&16>=n&&parseInt(o)>0){var s,l=0,r=n-1,d=1,u=new String;do s=parseInt(o.charAt(r)),u+=d++%2==0?2*s:s;while(--r>=0);for(r=0;r<u.length;r++)l+=parseInt(u.charAt(r));i=l%10==0}return i?void 0:a.allrules.creditCard.alertText},_ajax:function(r,a,i,o){var n=a[i+1],s=o.allrules[n],l=s.extraData,d=s.extraDataDynamic,u={fieldId:r.attr("id"),fieldValue:r.val()};if("object"==typeof l)e.extend(u,l);else if("string"==typeof l)for(var f=l.split("&"),i=0;i<f.length;i++){var c=f[i].split("=");c[0]&&c[0]&&(u[c[0]]=c[1])}if(d)for(var v=String(d).split(","),i=0;i<v.length;i++){var p=v[i];if(e(p).length){var m=r.closest("form").find(p).val();p.replace("#","")+"="+escape(m);u[p.replace("#","")]=m}}return"field"==o.eventTrigger&&delete o.ajaxValidCache[r.attr("id")],o.isError||t._checkAjaxFieldStatus(r.attr("id"),o)?void 0:(e.ajax({type:o.ajaxFormValidationMethod,url:s.url,cache:!1,dataType:"json",data:u,field:r,rule:s,methods:t,options:o,beforeSend:function(){},error:function(e,r){t._ajaxError(e,r)},success:function(a){var i=a[0],n=e(e("input[id='"+i+"']")[0]);if(1==n.length){var l=a[1],d=a[2];if(l){if(o.ajaxValidCache[i]=!0,d){if(o.allrules[d]){var u=o.allrules[d].alertTextOk;u&&(d=u)}}else d=s.alertTextOk;d?t._showPrompt(n,d,"pass",!0,o):t._closePrompt(n),"submit"==o.eventTrigger&&r.closest("form").submit()}else{if(o.ajaxValidCache[i]=!1,o.isError=!0,d){if(o.allrules[d]){var u=o.allrules[d].alertText;u&&(d=u)}}else d=s.alertText;t._showPrompt(n,d,"",!0,o)}}n.trigger("jqv.field.result",[n,o.isError,d])}}),s.alertTextLoad)},_ajaxError:function(e,t){0==e.status&&null==t?alert("The page is not served from a server! ajax call failed"):"undefined"!=typeof console&&console.log("Ajax error: "+e.status+" "+t)},_dateToString:function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},_parseDate:function(e){var t=e.split("-");return t==e&&(t=e.split("/")),new Date(t[0],t[1]-1,t[2])},_showPrompt:function(e,r,a,i,o,n){var s=t._getPrompt(e);n&&(s=!1),s?t._updatePrompt(e,s,r,a,i,o):t._buildPrompt(e,r,a,i,o)},_buildPrompt:function(r,a,i,o,n){var s=e("<div>");switch(s.addClass(t._getClassName(r.attr("id"))+"formError"),s.addClass("parentForm"+t._getClassName(r.parents("form").attr("id"))),s.addClass("formError"),i){case"pass":s.addClass("greenPopup");break;case"load":s.addClass("blackPopup")}o&&s.addClass("ajaxed");e("<div>").addClass("formErrorContent").html(a).appendTo(s);if(n.showArrow){var l=e("<div>").addClass("formErrorArrow"),d=r.data("promptPosition")||n.promptPosition;if("string"==typeof d){var u=d.indexOf(":");-1!=u&&(d=d.substring(0,u))}switch(d){case"bottomLeft":case"bottomRight":s.find(".formErrorContent").before(l),l.addClass("formErrorArrowBottom").html('<div class="line1"><!-- --></div><div class="line2"><!-- --></div><div class="line3"><!-- --></div><div class="line4"><!-- --></div><div class="line5"><!-- --></div><div class="line6"><!-- --></div><div class="line7"><!-- --></div><div class="line8"><!-- --></div><div class="line9"><!-- --></div><div class="line10"><!-- --></div>');break;case"topLeft":case"topRight":l.html('<div class="line10"><!-- --></div><div class="line9"><!-- --></div><div class="line8"><!-- --></div><div class="line7"><!-- --></div><div class="line6"><!-- --></div><div class="line5"><!-- --></div><div class="line4"><!-- --></div><div class="line3"><!-- --></div><div class="line2"><!-- --></div><div class="line1"><!-- --></div>'),s.append(l)}}r.closest(".ui-dialog").length&&s.addClass("formErrorInsideDialog"),s.css({opacity:0,position:"absolute"}),r.before(s);var u=t._calculatePosition(r,s,n);return s.css({top:u.callerTopPosition,left:u.callerleftPosition,marginTop:u.marginTopSize,opacity:0}).data("callerField",r),n.autoHidePrompt&&setTimeout(function(){s.animate({opacity:0},function(){s.closest(".formErrorOuter").remove(),s.remove()})},n.autoHideDelay),s.animate({opacity:.87})},_updatePrompt:function(e,r,a,i,o,n,s){if(r){"undefined"!=typeof i&&("pass"==i?r.addClass("greenPopup"):r.removeClass("greenPopup"),"load"==i?r.addClass("blackPopup"):r.removeClass("blackPopup")),o?r.addClass("ajaxed"):r.removeClass("ajaxed"),r.find(".formErrorContent").html(a);var l=t._calculatePosition(e,r,n),d={top:l.callerTopPosition,left:l.callerleftPosition,marginTop:l.marginTopSize};s?r.css(d):r.animate(d)}},_closePrompt:function(e){var r=t._getPrompt(e);r&&r.fadeTo("fast",0,function(){r.parent(".formErrorOuter").remove(),r.remove()})},closePrompt:function(e){return t._closePrompt(e)},_getPrompt:function(r){var a=e(r).closest("form").attr("id"),i=t._getClassName(r.attr("id"))+"formError",o=e("."+t._escapeExpression(i)+".parentForm"+a)[0];return o?e(o):void 0},_escapeExpression:function(e){return e.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},isRTL:function(t){var r=e(document),a=e("body"),i=t&&t.hasClass("rtl")||t&&"rtl"===(t.attr("dir")||"").toLowerCase()||r.hasClass("rtl")||"rtl"===(r.attr("dir")||"").toLowerCase()||a.hasClass("rtl")||"rtl"===(a.attr("dir")||"").toLowerCase();return Boolean(i)},_calculatePosition:function(e,t,r){var a,i,o,n=e.width(),s=e.position().left,l=e.position().top,d=(e.height(),t.height());a=i=0,o=-d;var u=e.data("promptPosition")||r.promptPosition,f="",c="",v=0,p=0;switch("string"==typeof u&&-1!=u.indexOf(":")&&(f=u.substring(u.indexOf(":")+1),u=u.substring(0,u.indexOf(":")),-1!=f.indexOf(",")&&(c=f.substring(f.indexOf(",")+1),f=f.substring(0,f.indexOf(",")),p=parseInt(c),isNaN(p)&&(p=0)),v=parseInt(f),isNaN(f)&&(f=0)),u){default:case"topRight":i+=s+n-30,a+=l;break;case"topLeft":a+=l,i+=s;break;case"centerRight":a=l+4,o=0,i=s+e.outerWidth(!0)+5;break;case"centerLeft":i=s-(t.width()+2),a=l+4,o=0;break;case"bottomLeft":a=l+e.height()+5,o=0,i=s;break;case"bottomRight":i=s+n-30,a=l+e.height()+5,o=0}return i+=v,a+=p,{callerTopPosition:a+"px",callerleftPosition:i+"px",marginTopSize:o+"px"}},_saveOptions:function(t,r){if(e.validationEngineLanguage)var a=e.validationEngineLanguage.allRules;else e.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page");e.validationEngine.defaults.allrules=a;var i=e.extend(!0,{},e.validationEngine.defaults,r);return t.data("jqv",i),i},_getClassName:function(e){return e?e.replace(/:/g,"_").replace(/\./g,"_"):void 0},_condRequired:function(e,r,a,i){var o,n;for(o=a+1;o<r.length;o++)if(n=jQuery("#"+r[o]).first(),n.length&&void 0==t._required(n,["required"],0,i))return t._required(e,["required"],0,i)}};e.fn.validationEngine=function(r){var a=e(this);return a[0]?"string"==typeof r&&"_"!=r.charAt(0)&&t[r]?("showPrompt"!=r&&"hide"!=r&&"hideAll"!=r&&t.init.apply(a),t[r].apply(a,Array.prototype.slice.call(arguments,1))):"object"!=typeof r&&r?void e.error("Method "+r+" does not exist in jQuery.validationEngine"):(t.init.apply(a,arguments),t.attach.apply(a)):a},e.validationEngine={fieldIdCounter:0,defaults:{validationEventTrigger:"blur",scroll:!0,focusFirstField:!0,promptPosition:"topRight",bindMethod:"bind",inlineAjax:!1,ajaxFormValidation:!1,ajaxFormValidationURL:!1,ajaxFormValidationMethod:"get",onAjaxFormComplete:e.noop,onBeforeAjaxFormValidation:e.noop,onValidationComplete:!1,doNotShowAllErrosOnSubmit:!1,custom_error_messages:{},binded:!0,showArrow:!0,isError:!1,ajaxValidCache:{},autoPositionUpdate:!1,InvalidFields:[],onSuccess:!1,onFailure:!1,autoHidePrompt:!1,autoHideDelay:1e4,fadeDuration:.3,prettySelect:!1,usePrefix:"",useSuffix:"",showOneMessage:!1}},e(function(){e.validationEngine.defaults.promptPosition=t.isRTL()?"topLeft":"topRight"})}(jQuery);
